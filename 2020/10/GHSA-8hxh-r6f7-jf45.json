{
	"schema_version": "1.6.0",
	"id": "GHSA-8hxh-r6f7-jf45",
	"modified": "2023-04-11T01:34:51.081300Z",
	"published": "2020-10-16T17:03:43Z",
	"summary": "Memory exhaustion in http4s-async-http-client with large or malicious compressed responses",
	"details": "### Impact\nA server we connect to with http4s-async-http-client could theoretically respond with a large or malicious compressed stream and exhaust memory in the client JVM.  It does not affect http4s servers, other client backends, or clients that speak only to trusted servers.  This is related to a transitive dependency on netty-codec-4.1.45.Final, which is affected by [CVE-2020-11612](https://app.snyk.io/vuln/SNYK-JAVA-IONETTY-564897).\n\n### Patches\nUpgrade to http4s-async-http-client >= 0.21.8.  All 1.0 milestones are also safe.\n\n### Workarounds\nAdd an explicit runtime dependency on async-http-client's netty dependencies that evicts them to an unaffected version:\n\n```scala\nlibraryDependencies ++= Seq(\n  \"io.netty\" %  \"netty-codec\"         % \"4.1.53.Final\" % Runtime,\n  \"io.netty\" %  \"netty-codec-socks\"   % \"4.1.53.Final\" % Runtime,\n  \"io.netty\" %  \"netty-handler-proxy\" % \"4.1.53.Final\" % Runtime,\n  \"io.netty\" %  \"netty-common\"        % \"4.1.53.Final\" % Runtime,\n  \"io.netty\" %  \"netty-transport\"     % \"4.1.53.Final\" % Runtime,\n  \"io.netty\" %  \"netty-handler\"       % \"4.1.53.Final\" % Runtime,\n  \"io.netty\" %  \"netty-resolver-dns\"  % \"4.1.53.Final\" % Runtime\n)\n```\n\n### References\n* https://app.snyk.io/vuln/SNYK-JAVA-IONETTY-564897\n* https://github.com/http4s/http4s/issues/3681\n\n### For more information\nIf you have any questions or comments about this advisory:\n* Open an issue in [http4s](https://github.com/http4s/http4s/issues/new)\n* Contact a maintainer privately per [http4s' security policy](https://github.com/http4s/http4s/blob/master/SECURITY.md#reporting-a-vulnerability)",
	"affected": [
		{
			"package": {
				"ecosystem": "Maven",
				"name": "org.http4s:http4s-async-http-client_2.13",
				"purl": "pkg:maven/org.http4s/http4s-async-http-client_2.13"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "0.21.8"
						}
					]
				}
			],
			"versions": [
				"0.10.0-M10",
				"0.21.0",
				"0.21.0-M1",
				"0.21.0-M2",
				"0.21.0-M3",
				"0.21.0-M4",
				"0.21.0-M5",
				"0.21.0-M6",
				"0.21.0-RC1",
				"0.21.0-RC2",
				"0.21.0-RC3",
				"0.21.0-RC4",
				"0.21.0-RC5",
				"0.21.1",
				"0.21.2",
				"0.21.3",
				"0.21.4",
				"0.21.5",
				"0.21.6",
				"0.21.7"
			],
			"database_specific": {
				"last_known_affected_version_range": "<= 0.21.7",
				"source": "https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2020/10/GHSA-8hxh-r6f7-jf45/GHSA-8hxh-r6f7-jf45.json"
			}
		},
		{
			"package": {
				"ecosystem": "Maven",
				"name": "org.http4s:http4s-async-http-client_2.12",
				"purl": "pkg:maven/org.http4s/http4s-async-http-client_2.12"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "0.21.8"
						}
					]
				}
			],
			"versions": [
				"0.10.0-M10",
				"0.15.0",
				"0.15.0a",
				"0.15.1",
				"0.15.10",
				"0.15.10a",
				"0.15.11",
				"0.15.11a",
				"0.15.12",
				"0.15.12a",
				"0.15.13",
				"0.15.13a",
				"0.15.14",
				"0.15.14a",
				"0.15.15",
				"0.15.15a",
				"0.15.16",
				"0.15.16a",
				"0.15.1a",
				"0.15.2",
				"0.15.2a",
				"0.15.3",
				"0.15.3a",
				"0.15.4",
				"0.15.4a",
				"0.15.5",
				"0.15.5a",
				"0.15.6",
				"0.15.6a",
				"0.15.7",
				"0.15.7a",
				"0.15.8",
				"0.15.8a",
				"0.15.9",
				"0.15.9a",
				"0.16.0",
				"0.16.0-M1",
				"0.16.0-M2",
				"0.16.0-M3",
				"0.16.0-RC1",
				"0.16.0-RC2",
				"0.16.0-RC3",
				"0.16.0a",
				"0.16.0a-M1",
				"0.16.0a-M2",
				"0.16.0a-M3",
				"0.16.0a-RC1",
				"0.16.0a-RC2",
				"0.16.0a-RC3",
				"0.16.1",
				"0.16.1a",
				"0.16.2",
				"0.16.2a",
				"0.16.3",
				"0.16.3a",
				"0.16.4",
				"0.16.4a",
				"0.16.5",
				"0.16.5a",
				"0.16.6",
				"0.16.6a",
				"0.17.0",
				"0.17.0-M2",
				"0.17.0-M3",
				"0.17.0-RC1",
				"0.17.0-RC2",
				"0.17.0-RC3",
				"0.17.1",
				"0.17.2",
				"0.17.3",
				"0.17.4",
				"0.17.5",
				"0.17.6",
				"0.18.0",
				"0.18.0-M1",
				"0.18.0-M2",
				"0.18.0-M3",
				"0.18.0-M4",
				"0.18.0-M5",
				"0.18.0-M6",
				"0.18.0-M7",
				"0.18.0-M8",
				"0.18.0-M9",
				"0.18.1",
				"0.18.10",
				"0.18.11",
				"0.18.12",
				"0.18.13",
				"0.18.14",
				"0.18.15",
				"0.18.16",
				"0.18.17",
				"0.18.18",
				"0.18.19",
				"0.18.2",
				"0.18.20",
				"0.18.21",
				"0.18.22",
				"0.18.23",
				"0.18.24",
				"0.18.25",
				"0.18.26",
				"0.18.3",
				"0.18.4",
				"0.18.5",
				"0.18.6",
				"0.18.7",
				"0.18.8",
				"0.18.9",
				"0.19.0",
				"0.19.0-M1",
				"0.19.0-M2",
				"0.19.0-M3",
				"0.19.0-M4",
				"0.20.0",
				"0.20.0-M1",
				"0.20.0-M2",
				"0.20.0-M3",
				"0.20.0-M4",
				"0.20.0-M5",
				"0.20.0-M6",
				"0.20.0-M7",
				"0.20.0-RC1",
				"0.20.1",
				"0.20.10",
				"0.20.11",
				"0.20.12",
				"0.20.13",
				"0.20.14",
				"0.20.15",
				"0.20.16",
				"0.20.17",
				"0.20.18",
				"0.20.19",
				"0.20.2",
				"0.20.20",
				"0.20.21",
				"0.20.22",
				"0.20.23",
				"0.20.3",
				"0.20.4",
				"0.20.5",
				"0.20.6",
				"0.20.7",
				"0.20.8",
				"0.20.9",
				"0.21.0",
				"0.21.0-M1",
				"0.21.0-M2",
				"0.21.0-M3",
				"0.21.0-M4",
				"0.21.0-M5",
				"0.21.0-M6",
				"0.21.0-RC1",
				"0.21.0-RC2",
				"0.21.0-RC3",
				"0.21.0-RC4",
				"0.21.0-RC5",
				"0.21.1",
				"0.21.2",
				"0.21.3",
				"0.21.4",
				"0.21.5",
				"0.21.6",
				"0.21.7"
			],
			"database_specific": {
				"last_known_affected_version_range": "<= 0.21.7",
				"source": "https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2020/10/GHSA-8hxh-r6f7-jf45/GHSA-8hxh-r6f7-jf45.json"
			}
		}
	],
	"references": [
		{
			"type": "WEB",
			"url": "https://github.com/http4s/http4s/security/advisories/GHSA-8hxh-r6f7-jf45"
		},
		{
			"type": "PACKAGE",
			"url": "https://github.com/http4s/http4s"
		}
	],
	"database_specific": {
		"cwe_ids": [
			"CWE-400"
		],
		"github_reviewed": true,
		"github_reviewed_at": "2020-10-16T17:03:18Z",
		"nvd_published_at": null,
		"severity": "LOW"
	}
}
